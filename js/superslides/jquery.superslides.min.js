// Generated by CoffeeScript 1.3.3
/*
  Superslides 0.4.2
  Fullscreen slideshow plugin for jQuery
  by Nic Aitch @nicinabox
  http://nicinabox.github.com/superslides/
*/(function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N;i=$(window),N=i.width(),h=i.height(),p=navigator.userAgent.match(/mobile/i),c=!0,g=0,f=!1,E=0,v=3,n=[],t=[],r=[],e=[],y=function(){return w(),b()},w=function(){n.css({position:"relative"});if(E>1)return n.css({width:N*v,height:h,left:-N}),t.hide()},b=function(){return $.fn.superslides.options.scrollable&&e.each(function(){var e;return e=$(this).find(".scrollable"),e||$(this).wrapInner('<div class="scrollable" />'),e.find("img").not(".keep-original").insertBefore(e)}),e.not(".current").css({display:"none",position:"absolute",overflow:"hidden",top:0,left:N,zIndex:0}),u(e)},d=function(e,t){return $("<img>",{src:e.attr("src")}).load(function(){if(t instanceof Function)return t(this)})},o=function(e){var n;if(!e.data("original-height")||!e.data("original-width")){d(e,function(t){return e.data("original-height",t.height).removeAttr("height"),e.data("original-width",t.width).removeAttr("width"),e.data("aspect-ratio",t.width/t.height),o(e)});return}n=h*e.data("aspect-ratio"),N>e.data("original-width")?e.css({left:0}):n>N?e.css({left:-(n-N)/2}):e.css({left:-(e.data("original-width")-N)/2}),h<e.data("original-height")&&e.css({top:-(e.data("original-height")-h)/2});if(e.data("original-height")&&e.data("original-width"))return t.trigger("slides.image_adjusted")},u=function(e){return e.each(function(e){return $(this).width(N).height(h),E>1&&$(this).css({left:N}),o($("img",this).not(".keep-original"))}),t.trigger("slides.sized")},s=function(e){var t;return t=$(".slides-pagination"),e>=0||(e=E-1),t.append($("<a>",{href:"#"+e}))},S=function(){var e;if(E>1)return location.hash?e=location.hash.replace(/^#/,""):e=c?0:"next",a(e),m()},x=function(){return clearInterval(g)},m=function(){if($.fn.superslides.options.play)return g&&x(),g=setInterval(function(){return a(c?0:"next")},$.fn.superslides.options.delay)},T=function(){return e=t.children(),E=e.length,b(),s(),t.trigger("slides.updated")},l=function(e){return t.append(e),T()},a=function(r){var i,s,o,u=this;this.current=this.current>=0?this.current:null;if(!(f||r>=E||+r===this.current)){o=this.current||+r-1||0,f=!0;switch(r){case"next":s=N*2,r=-s,i=this.current+1,E===i&&(i=0);break;case"prev":s=r=0,i=this.current-1,i===-1&&(i=E-1);break;default:i=+r,i>o?(s=N*2,r=-s):s=r=0}return this.current=i,e.removeClass("current"),e.eq(this.current).css({left:s,display:"block"}),n.animate({useTranslate3d:p?!0:!1,left:r},$.fn.superslides.options.slide_speed,$.fn.superslides.options.slide_easing,function(){return n.css({left:-N}),e.eq(i).css({left:N,zIndex:2}),e.eq(o).css({left:N,display:"none",zIndex:0}),e.eq(u.current).addClass("current"),c&&(t.fadeIn("fast"),t.trigger("slides.initialized"),c=!1),f=!1,t.trigger("slides.animated",[u.current,i,o])}),this.current}},$.fn.superslides=function(o){var f,l,c;return typeof o=="string"?(f=$.fn.superslides.api,c=o,l=Array.prototype.slice.call(arguments),l.splice(0,1),f[c].apply(this,l)):(o=$.fn.superslides.options=$.extend($.fn.superslides.options,o),$("."+o.container_class,this).wrap('<div class="slides-control" />'),n=$(".slides-control",this),t=$("."+o.container_class),r=$("."+o.nav_class),e=t.children(),E=e.length,v=E===1?1:3,this.each(function(){var t=this;return y(),$(window).resize(function(t){N=i.width(),h=i.height(),u(e),n.width(N*v).css({height:h});if(E>1)return n.css({left:-N})}),$(document).on("click","."+o.nav_class+" a",function(e){return e.preventDefault(),x(),$(this).hasClass("next")?a("next"):a("prev")}),o.pagination&&i.on("slides.initialized",function(n){return $(t).append($("<nav>",{"class":"slides-pagination"})),e.each(function(e){return s(e)})}).on("slides.animated",function(e,t,n,r){var i;return i=$(".slides-pagination"),$(".active",i).removeClass("active"),$("a",i).eq(t).addClass("active")}).on("click",".slides-pagination a",function(e){var t;return o.hashchange||e.preventDefault(),t=this.hash.replace(/^#/,""),a(t)}).on("hashchange",function(e){var t;return t=location.hash.replace(/^#/,""),x(),a(t)}),S()}))},$.fn.superslides.options={delay:5e3,play:!1,slide_speed:"normal",slide_easing:"linear",nav_class:"slides-navigation",container_class:"slides-container",pagination:!1,hashchange:!1,scrollable:!0},$.fn.superslides.api={start:function(){return S()},stop:function(){return x()},play:function(){return m()},append:function(e){return l(e)},animate:function(e){return x(),a(e)},next:function(){return a("next")},prev:function(){return a("prev")}}}).call(this);